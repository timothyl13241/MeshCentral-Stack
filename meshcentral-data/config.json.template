{
  "$schema": "https://raw.githubusercontent.com/Ylianst/MeshCentral/master/meshcentral-config-schema.json",
  "settings": {
    "Cert": "${MESHCENTRAL_HOSTNAME}",
    "MongoDb": "mongodb://${MESHCENTRAL_DB_USER}:${MESHCENTRAL_DB_PASSWORD}@mongodb:27017/${MONGO_DATABASE}",
    "MongoDbName": "${MONGO_DATABASE}",
    "WANonly": true,
    "Minify": true,
    "Port": 4430,
    "AliasPort": 443,
    "RedirPort": 0,
    "TlsOffload": "127.0.0.1",
    "SelfUpdate": false,
    "AllowFraming": false,
    "WebRTC": false,
    "ClickOnce": false,
    "AllowHighQualityDesktop": true,
    "MaxInvalidLogin": {
      "time": 10,
      "count": 5,
      "coolofftime": 30
    },
    "crowdsec": {
      "url": "${CROWDSEC_LAPI_URL}",
      "apiKey": "AUTO_GENERATED_BY_STARTUP_SCRIPT",
      "fallbackRemediation": "bypass"
    }
  },
  "domains": {
    "": {
      "Title": "MeshCentral",
      "Title2": "Remote Device Management",
      "NewAccounts": false,
      "UserNameIsEmail": false,
      "Footer": "Powered by MeshCentral",
      "CertUrl": "https://${MESHCENTRAL_HOSTNAME}:443/",
      "TrustedCert": "${MESHCENTRAL_HOSTNAME}",
      "PasswordRequirements": {
        "min": 8,
        "max": 128,
        "upper": 1,
        "lower": 1,
        "numeric": 1,
        "nonalpha": 1,
        "reset": 90,
        "force2factor": false
      },
      "TwoFactorCookieDurationDays": 30,
      "AuthStrategies": {
        "local": true
      },
      "SessionTime": 60,
      "SessionKey": "mesh",
      "HttpHeaders": {
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "X-Frame-Options": "SAMEORIGIN",
        "X-Content-Type-Options": "nosniff",
        "Content-Security-Policy": "default-src 'self' 'unsafe-inline' 'unsafe-eval'; img-src 'self' data:; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; connect-src 'self' wss://${MESHCENTRAL_HOSTNAME}",
        "Referrer-Policy": "strict-origin-when-cross-origin",
        "X-XSS-Protection": "1; mode=block"
      },
      "AgentConfig": [
        "MinAgentsVersion=1.1.0"
      ],
      "Limits": {
        "MaxDevices": 1000,
        "MaxUserAccounts": 100,
        "MaxUserSessions": 10,
        "MaxAgentSessions": 50
      },
      "UserAllowedIP": [],
      "AgentAllowedIP": [],
      "LoginRateLimit": {
        "time": 10,
        "count": 10,
        "coolofftime": 60
      }
    }
  }
}
