# CrowdSec AppSec Component acquisition
# Starts an HTTP listener on port 7422 that accepts WAF-style inspection requests
# forwarded by the Traefik crowdsec-bouncer plugin.
# Requires the crowdsecurity/appsec-virtual-patching and
# crowdsecurity/appsec-generic-rules collections (added to COLLECTIONS in
# docker-compose.yml).
source: appsec
listen_addr: 0.0.0.0:7422
# appsec_config references the AppSec config provided by the
# crowdsecurity/appsec-generic-rules collection (crowdsecurity/appsec-default).
# It loads virtual-patching rules plus the appsec-generic-test rule required
# by the CrowdSec health-check (GET /crowdsec-test-NtktlJHV4TfBSK3wvlhiOBnl).
appsec_config: crowdsecurity/appsec-default
name: myAppSecComponent
labels:
  type: appsec
